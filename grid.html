<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Grid Planner</title>

<style>
body{
  font-family: Inter, sans-serif;
  margin:0;
  background:#fff;
  display:flex;
  justify-content:center;
}

/* ---------- CONTAINER ---------- */
.container{
  width:90vw;
  height:70vh;
  border:2px solid #e2e2e2;
  border-radius:24px;
  padding:20px;
  display:flex;
  flex-direction:column;
}

/* ---------- HEADER ---------- */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.refreshBtn{
  background:#000;
  color:#fff;
  border:none;
  padding:6px 10px;
  border-radius:10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
}

.refreshIcon.spin{
  animation: spin 1s linear infinite;
}

@keyframes spin{
  from{transform:rotate(0)}
  to{transform:rotate(360deg)}
}

/* ---------- GRID ---------- */
.gridWrap{
  flex:1;
  overflow:auto;
}

.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:4px;
}

.card{
  aspect-ratio:4/5;
  background:#eee;
  overflow:hidden;
  position:relative;
  cursor:pointer;
}

.card img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ---------- VIEWER OVERLAY ---------- */
.viewer{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.35);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:.25s;
}

.viewer.show{
  opacity:1;
  pointer-events:auto;
}

.viewer.hidden{display:none}

/* ---------- POPUP CARD ---------- */
.viewerInner{
  width:min(360px,85%);
  background:#fff;
  border-radius:20px;
  box-shadow:0 12px 40px rgba(0,0,0,.25);
  overflow:hidden;
  transform:scale(.96);
  transition:.25s;
}

.viewer.show .viewerInner{
  transform:scale(1);
}

/* ---------- IMAGE (4:5 FIXED) ---------- */
.viewerImage{
  width:100%;
  aspect-ratio:4/5;
  overflow:hidden;
  background:#000;
}

.viewerImage img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  transition:.25s;
}

/* zoom */
.viewerImage img.zoomed{
  transform:scale(2);
  cursor:zoom-out;
}

/* ---------- FOOTER (TEXT) ---------- */
.viewerFooter{
  background:#fff;
  padding:14px 16px;
  border-top:1px solid #eee;
}

#viewerTitle{
  font-size:14px;
  font-weight:600;
}

#viewerDate{
  font-size:12px;
  color:#777;
}

/* ---------- CLOSE ---------- */
.viewerClose{
  position:absolute;
  top:-14px;
  right:-14px;
  width:32px;
  height:32px;
  border-radius:50%;
  border:none;
  background:rgba(0,0,0,.7);
  color:#fff;
  cursor:pointer;
  z-index:5;
}
</style>
</head>

<body>

<div class="container">
  <div class="header">
    <button class="refreshBtn">
      <span class="refreshIcon">⟳</span> Refresh
    </button>
    <strong>Grid Planner</strong>
  </div>

  <div class="gridWrap">
    <div class="grid" id="grid"></div>
  </div>
</div>

<!-- ---------- POPUP ---------- -->
<div id="viewer" class="viewer hidden">
  <div class="viewerInner">

    <button class="viewerClose" onclick="closeViewer()">✕</button>

    <div class="viewerImage">
      <img id="viewerImg">
    </div>

    <div class="viewerFooter">
      <div id="viewerTitle"></div>
      <div id="viewerDate"></div>
    </div>

  </div>
</div>

<script>
let POSTS=[];

/* ---------- DEMO DATA ---------- */
POSTS=[
  {
    img:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee",
    title:"Ferris Wheel",
    date:"2026-02-08"
  }
];

/* ---------- GRID ---------- */
function render(){
  const g=document.getElementById("grid");
  g.innerHTML="";
  POSTS.forEach(p=>{
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`<img src="${p.img}">`;
    c.onclick=()=>openViewer(p);
    g.appendChild(c);
  });
}

/* ---------- VIEWER ---------- */
function openViewer(p){
  document.getElementById("viewerImg").src=p.img;
  document.getElementById("viewerTitle").textContent=p.title;
  document.getElementById("viewerDate").textContent=p.date;
  const v=document.getElementById("viewer");
  v.classList.remove("hidden");
  requestAnimationFrame(()=>v.classList.add("show"));
}

function closeViewer(){
  const v=document.getElementById("viewer");
  v.classList.remove("show");
  setTimeout(()=>v.classList.add("hidden"),250);
}

/* click outside */
document.getElementById("viewer").onclick=e=>{
  if(e.target.id==="viewer") closeViewer();
};

/* zoom */
const img=document.getElementById("viewerImg");
img.ondblclick=()=>img.classList.toggle("zoomed");

/* init */
render();
</script>

</body>
</html>